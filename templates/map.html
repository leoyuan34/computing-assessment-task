{% extends "base.html" %}
{% block title %}World Map - Transit Travel Forum{% endblock %}

{% block content %}
<h1>World Map</h1>
<p>Click a continent to explore more details.</p>

<div id="world-map" style="height: 600px; width: 100%; border-radius: 12px; overflow: hidden; margin-top: 20px;"></div>

<link
  rel="stylesheet"
  href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
/>
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

<script>
  var map = L.map("world-map").setView([20, 0], 2);

  L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png", {
    maxZoom: 6,
    attribution: "Â© OpenStreetMap contributors"
  }).addTo(map);

  const continents = [
    { name: "Africa", coords: [1.5, 17], id: "africa" },
    { name: "Asia", coords: [34, 100], id: "asia" },
    { name: "Europe", coords: [54, 15], id: "europe" },
    { name: "North America", coords: [45, -100], id: "north-america" },
    { name: "South America", coords: [-15, -60], id: "south-america" },
    { name: "Oceania", coords: [-25, 135], id: "oceania" }
  ];

  continents.forEach(continent => {
    const marker = L.marker(continent.coords)
      .addTo(map)
      .bindPopup(`<b>${continent.name}</b><br><a href="{{ url_for('explore') }}#${continent.id}">Go to ${continent.name}</a>`);
  });
</script>
{% endblock %}
